<app-navbar>
</app-navbar>

<ngx-spinner style="z-index:2" bdColor="rgba(0,0,0,0.8)" size="large" color="#ee4b5e" type="ball-clip-rotate-pulse">
  <p style="font-size: 30px; color: rgb(255, 255, 255) !important">Searching for flights</p>
</ngx-spinner>

<div class="view">
  <div class="full-bg-img">
    <div class="flex-center">

        <div class="container">

          
              <mat-horizontal-stepper [linear]="isLinear" #stepper>
                <mat-step [stepControl]="firstFormGroup">
                  
                    <ng-template matStepLabel>Choose trip to London</ng-template>
                    <mat-accordion>
                        <mat-expansion-panel *ngFor="let flight of mockFlights">
                          <mat-expansion-panel-header [collapsedHeight]="'75px'">
                            <mat-panel-title>
                              
                              <i class="material-icons">
                                airplanemode_active
                              </i>

                              <span *ngFor="let subFlight of flight.flights" style="width: 160px">
                                  {{subFlight.airline.nameAirline}}
                                  <br>
                              </span>

                              <span style="margin-left:80px; width: 100px;" >
                                <span *ngIf="flight.departureDate.getMinutes()<10">
                                  {{flight.departureDate.getHours()}}:0{{flight.departureDate.getMinutes()}}
                                </span>
                                <span *ngIf="flight.departureDate.getMinutes()>10">
                                  {{flight.departureDate.getHours()}}:{{flight.departureDate.getMinutes()}}
                                </span> 
                                  -
                                

                                  {{flight.arrivalDate.getHours()}}:{{flight.arrivalDate.getMinutes()}}
                              </span>

                              <span style="margin-left: 90px;">
                                {{flight.journeyDuration}}
                                <p style="color: grey;width: max-content">
                                  {{flight.departureAirportCode}}-{{flight.arrivalAirportCode}}
                                </p>
                              </span>


                              <span style="margin-left: 100px">
                                  <span *ngIf="flight.flights.length === 1">
                                      Nonstop
                                  </span>
                                  <span *ngIf="flight.flights.length > 1">
                                    {{flight.flights.length - 1}} stops
                                  </span>
                              </span>

                              

                              <span style="margin-left: 160px">
                            
                                  average {{flight.currency}} 
                                  <span style="color: rgb(93, 165, 111);">
                                    {{flight.journeyPrice}}
                                  </span>
                              </span>
                            </mat-panel-title>
                        
                          </mat-expansion-panel-header>
                          <div *ngFor="let stop of let subFlight of flight.flights" class="flightBody">
                              dane
                              <br>
                              dane
                              <br>
                              dane
                              <br>
                              dane
                              <br>
                              dane
                              <br>
                              dane
                              <br>
                              dane
                              <br>
                              dane
                              <br>
                              dane
                              <br>
                          </div>
                        </mat-expansion-panel>
                      </mat-accordion>
                  
                </mat-step>
                <mat-step>
                  <ng-template matStepLabel>Trip summary</ng-template>
                 
                  
                </mat-step>
              </mat-horizontal-stepper>

        </div>

    </div>
  </div>
</div>

<app-footer>

</app-footer>